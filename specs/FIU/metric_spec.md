## METRIC Events Specification
FIU's have to raise the METRIC events for all the metrics that cannot be automatically derived from the API telemetry in the [METRIC Event Type](/specs/telemetry.md#metric) structure.

## Metrics Generated by FIU

Following metrics can be measured by the FIU that is not derived out of telemetry automatically:

| Metric | Mandatory or Optional | Definition | Why is it needed|
|--------|-----------------------|------------|-------------|
| AA Usage Percentage | Optional | Out of all the customers that came to the FIU domain to avail any financial service, what percentage of users chose to use AA versus other modes of sharing data like Netbanking or PDF upload. In case the FIU provides no other option, this number should be reported as 100% | This metric will be used to understand how comfortable customers are with the concept of Account Aggregator |
| Redirection Success Percentage | Optional | Percentage of customers successfully redirected back to the FIU domain after completing the journey on AA client | It indicates the effectiveness of the redirection process. It will help the ecosystem understand what percentage of customers are not able to complete the AA journey for whatever reason or are getting nervous about the concept of AA and abruptly terminating the journey |

### AA Usage Percentage

| Metric ID | Metric Category | Frequency | Granularity |
|-----------|-----------------|-----------|-------------|
|`aa_usage_percent`|`Adoption`| `Day` | `Day` |

#### Event Sample

```js
{ 
  "name": "aa_usage_percent",
  "unit": "%",
  "sum": {
    "aggregationTemporality": 1,
    "isMonotonic": false,
    "dataPoints": [{
      "asDouble": 75,
      "startTimeUnixNano": "1544712660000000000",
      "endTimeUnixNano": "1544712661590000000",
      "attributes": [
        {"key":"metric_uuid","value": {"stringValue": "43kr3d5f-3cfb-4e6e-b6a2-0ee5d6508923"}},
        {"key":"observedTimeUnixNano","value": {"stringValue": "1581452772000000321"}},
        {"key":"metric.code","value": {"stringValue": "aa_usage_percent"}},
        {"key":"metric.category","value": {"stringValue": "Adoption"}},
        {"key":"metric.label","value": {"stringValue": "AA Usage Percentage"}},
        {"key":"metric.granularity","value": {"stringValue": "day"}},
        {"key":"metric.frequency","value": {"stringValue": "day"}}
      ]
    }]
  }
}
```

### Redirection Success Percentage

| Metric ID | Metric Category | Frequency | Granularity |
|-----------|-----------------|-----------|-------------|
|`redirection_success_percent`|`Adoption`| `Day` | `Day` |

#### Event Sample

```js
{ 
  "name": "redirection_success_percent",
  "unit": "%",
  "sum": {
    "aggregationTemporality": 1,
    "isMonotonic": false,
    "dataPoints": [{
      "asDouble": 75,
      "startTimeUnixNano": "1544712660000000000",
      "endTimeUnixNano": "1544712661590000000",
      "attributes": [
        {"key":"metric_uuid","value": {"stringValue": "43kr3d5f-3cfb-4e6e-b6a2-0ee5d6508923"}},
        {"key":"observedTimeUnixNano","value": {"stringValue": "1581452772000000321"}},
        {"key":"metric.code","value": {"stringValue": "redirection_success_percent"}},
        {"key":"metric.category","value": {"stringValue": "Adoption"}},
        {"key":"metric.label","value": {"stringValue": "Redirection Success Percentage"}},
        {"key":"metric.granularity","value": {"stringValue": "day"}},
        {"key":"metric.frequency","value": {"stringValue": "day"}}
      ]
    }]
  }
}
```